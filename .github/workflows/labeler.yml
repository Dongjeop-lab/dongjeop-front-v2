# GitHub Auto-Labeler workflow
#
# ðŸ“ ëª©ì :
# - PRì—ì„œ ë³€ê²½ëœ íŒŒì¼ ê²½ë¡œë¥¼ ë¶„ì„í•˜ì—¬ ìžë™ìœ¼ë¡œ ì ì ˆí•œ ë¼ë²¨ì„ ë¶€ì—¬
# - ì½”ë“œ ë¦¬ë·°ì™€ ì´ìŠˆ ê´€ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ
# - íŒ€ì›ë“¤ì´ ë³€ê²½ ì‚¬í•­ì˜ ë²”ìœ„ë¥¼ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥
#
# ðŸŽ¯ ë™ìž‘ ë°©ì‹:
# 1. PRì´ ìƒì„±ë˜ê±°ë‚˜ ìƒˆ ì»¤ë°‹ì´ í‘¸ì‹œë  ë•Œ ìžë™ ì‹¤í–‰
# 2. .github/labeler.yml íŒŒì¼ì˜ ê·œì¹™ì— ë”°ë¼ ë¼ë²¨ ë¶„ì„
# 3. ë³€ê²½ëœ íŒŒì¼ ê²½ë¡œì™€ ë§¤ì¹­ë˜ëŠ” ë¼ë²¨ë“¤ì„ ìžë™ ë¶€ì—¬
# 4. ê¸°ì¡´ ë¼ë²¨ì€ ìœ ì§€í•˜ê³  ìƒˆë¡œìš´ ë¼ë²¨ë§Œ ì¶”ê°€
#
# ðŸ“ ì—°ë™ íŒŒì¼:
# - .github/labeler.yml: íŒŒì¼ ê²½ë¡œ â†’ ë¼ë²¨ ë§¤í•‘ ê·œì¹™ ì •ì˜
# - .github/pull_request_template.md: ë³€ê²½ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸ì™€ ì¼ì¹˜

name: ðŸ·ï¸ ìžë™ ë¼ë²¨ë§

on:
  pull_request:
    types: [opened, synchronize]  # PR ìƒì„± ë˜ëŠ” ìƒˆ ì»¤ë°‹ í‘¸ì‹œ ì‹œ

permissions:
  contents: read
  pull-requests: write  # ë¼ë²¨ ì¶”ê°€/ìˆ˜ì • ê¶Œí•œ

jobs:
  auto-label:
    name: ðŸ“‹ PR ë¼ë²¨ ìžë™ ë¶„ë¥˜
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
      - name: ðŸ“¥ ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      - name: ðŸ·ï¸ íŒŒì¼ ë³€ê²½ì‚¬í•­ ê¸°ë°˜ ìžë™ ë¼ë²¨ë§
        uses: actions/labeler@v5
        with:
          repo-token: "${{ secrets.GITHUB_TOKEN }}"
          configuration-path: .github/labeler.yml
          sync-labels: true  # íŒŒì¼ ë³€ê²½ ì‹œ ë¼ë²¨ ë™ê¸°í™”

      - name: ðŸ“Š ë¼ë²¨ë§ ê²°ê³¼ ìš”ì•½
        if: always()
        run: |
          echo "## ðŸ·ï¸ ìžë™ ë¼ë²¨ë§ ì™„ë£Œ" >> $GITHUB_STEP_SUMMARY
          echo "- âœ… ë³€ê²½ëœ íŒŒì¼ ê²½ë¡œ ë¶„ì„ ì™„ë£Œ" >> $GITHUB_STEP_SUMMARY
          echo "- âœ… ê´€ë ¨ ë¼ë²¨ ìžë™ ë¶€ì—¬ ì™„ë£Œ" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ“ **ë¼ë²¨ë§ ê·œì¹™:** [.github/labeler.yml](/.github/labeler.yml) íŒŒì¼ ì°¸ì¡°" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ”§ **ë¼ë²¨ ìˆ˜ì •:** PR íŽ˜ì´ì§€ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ë¼ë²¨ ì¶”ê°€/ì œê±° ê°€ëŠ¥" >> $GITHUB_STEP_SUMMARY

